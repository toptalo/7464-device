!function(e,t){"use strict";function a(e){var t=!1;return"text"!==e.type&&"textarea"!==e.type||(t=!!e.value),"email"===e.type&&(t=/^.*@.*\..{2,}$/.test(e.value)),t}function i(e){e.classList.contains("is-invalid")||e.classList.add("is-invalid")}function s(e){e.classList.contains("is-invalid")&&e.classList.remove("is-invalid")}function n(){if("object"==typeof e.localStorage){var t=r.querySelector('[name="name"]').value,a=r.querySelector('[name="email"]').value;localStorage.setItem("name",t),localStorage.setItem("email",a)}return!0}var c=t.querySelectorAll(".js-popup-feedback, .js-popup-contacts");[].forEach.call(c,function(t){t.querySelector(".js-popup-close").addEventListener("click",function(e){e.preventDefault(),t.classList.remove("is-visible")},!1),e.addEventListener("keyup",function(e){27===e.keyCode&&t.classList.contains("is-visible")&&t.classList.remove("is-visible")})});var l=t.querySelector(".js-popup-feedback"),o=t.querySelector(".js-show-feedback"),r=t.querySelector(".js-feedback-form"),u=r.querySelectorAll("input, textarea");r.noValidate=!0,o.addEventListener("click",function(t){t.preventDefault(),l.classList.add("is-visible");var a=[];[].forEach.call(u,function(t){if("object"==typeof e.localStorage){var i=localStorage.getItem(t.name);i?t.value=i:a.push(t)}else a.push(t)}),a.length&&a[0].focus()}),r.addEventListener("submit",function(e){var t=0;[].forEach.call(u,function(e){a(e)?s(e):(t+=1,i(e))}),0!==t?e.preventDefault():n()}),[].forEach.call(u,function(e){e.addEventListener("input",function(){e.classList.contains("is-invalid")&&a(e)&&s(e)})});var v=t.querySelector(".js-popup-contacts"),f=t.querySelector(".js-show-contacts");f.addEventListener("click",function(e){e.preventDefault(),v.classList.add("is-visible")},!1)}(window,document);